import{u as b}from"./cart-DXUSUDIR.js";import{R as C}from"./RButton-CTE1q-iz.js";import{u as x,f as k,g as N,y as S,c,a as s,d as n,F as w,r as y,t as l,x as B,i as _,l as R,b as m,o as u}from"./index-CEviYTYm.js";const $={class:"container"},F={class:"mb-10"},M={class:"d-flex align-center mb-4"},V={class:"mr-4"},z={class:"main-title"},P={__name:"Cart",setup(A){const a=b(),d=x(),r=k([]),v=N(()=>r.value.reduce((e,t)=>Number(e)+Number(t.price),0)),p=async()=>{try{const e=await R.get("api/items");console.log(e.data,a.items),r.value=a.items.map(t=>e.data.find(({item_id:i})=>i===t)).filter(t=>t)}catch(e){console.error(e.message)}},f=e=>{a.remove(e),p()};return S(()=>{p()}),(e,t)=>{const i=m("v-img"),g=m("v-spacer"),h=m("v-btn");return u(),c("section",null,[s("div",$,[t[1]||(t[1]=s("h1",{class:"main-title"},"Корзина",-1)),s("ul",F,[(u(!0),c(w,null,y(r.value,o=>(u(),c("li",M,[n(i,{class:"mr-8","max-width":"100",width:"100",height:"100",cover:"",src:`http://192.168.0.102:8000/api/items/${o.item_id}/images`},null,8,["src"]),s("h3",null,l(o.title),1),n(g),s("p",V,"Цена: "+l(Number(o.price))+" руб",1),n(h,{variant:"plain",icon:"mdi-close",onClick:D=>f(o.item_id)},null,8,["onClick"])]))),256))]),s("h2",z,"Итого: "+l(v.value)+" руб",1),n(C,{class:B(_(d).isMobile?"w-100":""),text:"Оформить заказ",onClick:t[0]||(t[0]=o=>_(a).submit())},null,8,["class"])])])}}};export{P as default};
