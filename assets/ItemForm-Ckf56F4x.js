import{R as C}from"./RButton-C1Kmtd0j.js";import{_ as c}from"./RInput-CNbMSBJV.js";import{j as x,f as S,g as U,l as h,c as v,a as _,d as o,t as M,u as s,k as N,e as u,p as k,w as n,b as i,q as R,o as t,n as b,i as y}from"./index-Cjyw_Vns.js";import{m as z}from"./items-D__jO4uN.js";const I={class:"container"},j={class:"main-title"},$={__name:"ItemForm",setup(q){const r=N(),m=x(),e=S({}),g=U(()=>![e.value.title,e.value.price,e.value.photo].every(l=>l)),w=()=>{console.log(e.value)};return h(()=>r.params.id,()=>{e.value=z.find(d=>d.id==r.params.id)??{},console.log(e.value)},{immediate:!0}),(d,l)=>{const f=i("v-img"),p=i("v-col"),V=i("v-row"),B=i("v-file-input");return t(),v("section",null,[_("div",I,[_("h1",j,M(s(r).params.id?e.value.title:"Добавление товара"),1),_("form",null,[s(m).isMobile?(t(),u(V,{key:0},{default:n(()=>[o(p,null,{default:n(()=>[e.value.photo?(t(),u(f,{key:0})):(t(),v("div",{key:1,style:b({color:s(y).error})},"Загрузите фото товара",4))]),_:1})]),_:1})):k("",!0),o(V,null,{default:n(()=>[o(p,null,{default:n(()=>[o(c,{modelValue:e.value.title,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.title=a),label:"Название"},null,8,["modelValue"]),o(c,{modelValue:e.value.price,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.price=a),label:"Цена"},null,8,["modelValue"]),o(c,{modelValue:e.value.info,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.info=a),label:"Дополнительная информация"},null,8,["modelValue"]),o(B,{modelValue:e.value.photo,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.photo=a),label:"Фото товара","prepend-icon":"mdi-camera","single-line":"",variant:"plain"},null,8,["modelValue"])]),_:1}),s(m).isMobile?k("",!0):(t(),u(p,{key:0},{default:n(()=>[e.value.photo?(t(),u(f,{key:0})):(t(),v("div",{key:1,style:b({color:s(y).error})},"Загрузите фото товара",4))]),_:1}))]),_:1})]),o(C,{text:"Сохранить",class:R(s(m).isMobile?"w-100":""),disabled:g.value,onClick:w},null,8,["class","disabled"])])])}}};export{$ as default};
