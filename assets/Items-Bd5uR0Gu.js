import{_ as I,u as N,f as S,g as R,m as V,p as A,c as l,a as o,t as i,F as b,r as j,k as F,b as m,o as s,d as c,w as _,h as q,e as u,q as D,i as r,l as y}from"./index-CEviYTYm.js";import{R as d}from"./RButton-CTE1q-iz.js";import{u as E}from"./cart-DXUSUDIR.js";const L={clothes:"одежда",jewellery:"украшения",new:"новинки"},M={class:"container"},T={class:"main-title"},z={class:"items"},G={class:"item"},H={class:"item__title"},J={__name:"Items",setup(K){const k=E(),p=N(),n=V(),C=F(),h=S([]),w=R(()=>L[n.params.category]),x=async e=>{try{const a=await y.delete(`api/items/${e}`);v()}catch(a){console.error(a.message)}},v=async()=>{try{const{data:e}=await y.get("/api/items");h.value=e.filter(a=>a.category.name_en===n.params.category)}catch(e){console.error(e.message)}};return A(()=>n.params.category,()=>{v()},{immediate:!0}),(e,a)=>{const $=m("v-img"),f=m("v-col"),B=m("v-row");return s(),l("section",null,[o("div",M,[o("h1",T,i(w.value),1),o("ul",z,[(s(!0),l(b,null,j(h.value,t=>(s(),l("li",G,[c($,{class:"item__img",src:`http://192.168.0.102:8000/api/items/${t.item_id}/images`,cover:""},null,8,["src"]),o("h3",H,i(t.name),1),c(B,null,{default:_(()=>[c(f,null,{default:_(()=>[q(i(Number(t.price))+" рублей ",1)]),_:2},1024),c(f,{class:"d-flex justify-end"},{default:_(()=>[r(p).isAdmin?(s(),u(d,{key:0,class:"mr-4",text:"Удалить",onClick:g=>x(t.item_id)},null,8,["onClick"])):D("",!0),r(p).isAdmin?(s(),u(d,{key:1,text:"Редактировать",onClick:g=>r(C).push(`/item/${t.item_id}`)},null,8,["onClick"])):(s(),u(d,{key:2,text:"Добавить в корзину",onClick:g=>r(k).add(t.item_id)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024)]))),256))])])])}}},U=I(J,[["__scopeId","data-v-7c5a21ec"]]);export{U as default};
